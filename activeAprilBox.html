<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
	<meta name="format-detection" content="telephone=no">
	<title>愚人节活动</title>
	<link type="text/css" rel="stylesheet" href="css/base.css" />
	<link type="text/css" rel="stylesheet" href="css/style.css" />
	<link type="text/css" rel="stylesheet" href="css/animate.css" />
	<script type="text/javascript" src="js/style.js"></script>
	<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
</head>
<body>
	<div class="activeAprilBox">
		<div class="wand_text" style="display:none;"></div>
		<div class="aprilBox">
			<div class="yellowBox"></div>
			<div class="blueBox"></div>
			<div class="orangeBox "></div>
		</div>

		<a href="javascript:;" class="magic_wand"></a>
	</div>

	<div class="clackApril"></div>

</body>
</html>
<script>
	$(function(){
		var flag = false;
		$('.aprilBox div').click(function(){

			$('.wand_text').show();
			flag = true;
			if(flag){
				$('.magic_wand').attr('href','activeAprilDetail.html');
			}
		});

		var times = setTimeout(function(){
			$('.clackApril').hide();
			clearTimeout(times);
		},3000)

		$('.clackApril').click(function(){
			$(this).hide();
			clearTimeout(times)
		})



		//封装监听事件的兼容方法
		var pfx = ["webkit", "moz", "MS", "o", ""];
		function PrefixedEvent(element, type, callback) {
			for (var p = 0; p < pfx.length; p++) {
				if (!pfx[p]) type = type.toLowerCase();
				element.addEventListener(pfx[p]+type, callback, false);
			}
		}



		//盒子点击是事件
		var divList = document.querySelectorAll('.aprilBox div');
		for(var i=0;i<divList.length;i++){
			(function(i){
				wbl.tap(divList[i],function(){

					$(divList[i]).addClass('tada animated').siblings().removeClass('tada animated current');


					PrefixedEvent(divList[i],"AnimationEnd",function(){
						$(divList[i]).removeClass('tada animated').addClass('current');
					})

				})
			})(i)

		}

	})
</script>